# ğŸŒ Headless Service for rabbitmq (StatefulSet DNS Discovery)
apiVersion: v1
kind: Service
metadata:
  name: rabbitmq-headless              # ğŸŒ Headless service name
  namespace: roboshop               # ğŸ§­ Namespace: roboshop
  labels:
    component: rabbitmq                # ğŸ§© Component: rabbitmq
    project: roboshop               # ğŸ“¦ Project label
    tier: database                  # ğŸ—‚ï¸ Tier: Database
spec:
  clusterIP: None                   # âŒ No ClusterIP â†’ Headless for stable DNS
  selector:
    component: rabbitmq
    project: roboshop
    tier: database
  ports:
  - protocol: TCP
    port: 5672                      # ğŸšª rabbitmq default port (Service)
    targetPort: 5672                # ğŸ¯ Matches container port